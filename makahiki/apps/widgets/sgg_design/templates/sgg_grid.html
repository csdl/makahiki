{% load sgg_design_tags %}

<div class="sgg_grid">
	<div class="sgg-dropzone clearfix">
		<div id="category-dropzone" class="sgg-category-dropzone clearfix">
			<table>
				<tr>
					{% for i in 10|get_range %}
					<td><div class="sgg-category-slot" data-column={{i}}>
					{% if i < level.cat_list|length %}
						{% with cat=level.cat_list|nth:i %}
					<div data-slug="{{cat.slug}}" class="sgg-category-drop" 
						 data-priority={{i}}>{{cat.name}}</div>
						 {% endwith %}
					{% endif %}
					</div></td>
					{% endfor %}
				</tr>
			</table>
		</div>
	</div>
	<div class="sgg-dropzone clearfix">
		<div id="action-dropzone" class="sgg-action-dropzone clearfix">
			<table>
				{% for i in 10|get_range %}
				<tr>
					{% for j in 10|get_range %}
					<td><div class="sgg-action-slot disabled"
							data-column="{{ j|add:'1' }}" data-row="{{ i|add:'1' }}">
							{% if j < level.cat_list|length %}
								{% with cat=level.cat_list|nth:j %}
								{% if i < cat.task_list|length %}
									{% with act=cat.task_list|nth:i %}
								<div data-slug="{{act.slug}}" class="sgg-action sgg-{{act.type}}-cell draggable"
                   		   			 data-type="{{act.type}}" data-priority="{{i|add:1}}" data-column="{{j|add:1}}" 
                   		   			 data-category="{{cat.slug}}">{{act.name}}</div>								
									{% endwith %}
								{% endif %}
								{% endwith %}
							{% endif %}
						</div>
					</td>
					{% endfor %}
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
</div>