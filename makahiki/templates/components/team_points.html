{% load cache %}

{% with user.get_profile.team as team %}
{% if team and team.group %}
{% cache 600 infobar team.name %}
{% if CURRENT_ROUND_INFO and CURRENT_ROUND_INFO.name != 'Overall' %}
<!-- First slideshow element -->
<div class="item active">
    <h4>{{team}}</h4>
    <ul>
        <li>{{CURRENT_ROUND_INFO.name}}: {{team.current_round_points}} points.
        #{{team.current_round_rank}}/{{TEAM_COUNT}}.
        </li> 
    </ul>
</div>
{% if energy_rank_info %}
<!-- Second slideshow element -->
<div class="item">
    <h4>{{team}}</h4>
    <ul>
        <li>{{CURRENT_ROUND_INFO.name}}: <span id="round-energy-value"></span> kWh.
        #<span id="round-energy-rank"></span>  out of {{TEAM_COUNT}}.</li>
    </ul>
</div>
{% endif %}
{% endif %}
<!-- Third slideshow element -->
<div class="item">
    <h4>{{team}}</h4>
    <ul>
        <li>Overall: {{team.points}} points. #{{team.rank}} out of {{TEAM_COUNT}}</li>
    </ul>
</div>
{% if energy_rank_info %}
<!-- Fourth slideshow element -->
<div class="item">
    <h4>{{team}}</h4>
    <ul>
        <li>Overall: {{ energy_rank_info.usage }} kWh. #{{ energy_rank_info.rank }} out of {{TEAM_COUNT}}.</li>
    </ul>
</div>
{% endif %}
{% endcache %}
{% endif %}
{% endwith %}